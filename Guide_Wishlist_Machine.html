<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wishlist Machine v1.5: Converged Workstation Blueprint</title>
    <style>
        /* Global Styles & CSS Variables */
        :root {
            --color-background: #F8F8F8;
            --color-surface: #FFFFFF;
            --color-primary-text: #333333;
            --color-secondary-text: #666666;
            --color-accent-blue: #007BFF;
            --color-accent-green: #28A745;
            --color-border: #E0E0E0;
            --spacing-xs: 0.5rem;
            --spacing-sm: 1rem;
            --spacing-md: 1.5rem;
            --spacing-lg: 2rem;
            --spacing-xl: 3rem;
            --font-size-sm: 0.875rem; /* 14px */
            --font-size-base: 1rem;   /* 16px */
            --font-size-md: 1.125rem; /* 18px */
            --font-size-lg: 1.25rem;  /* 20px */
            --font-size-xl: 1.5rem;   /* 24px */
            --font-size-2xl: 2rem;    /* 32px */
            --font-size-3xl: 2.5rem;  /* 40px */
            --border-radius: 0.5rem;
            --shadow-light: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            /* Using system fonts to ensure no external resource dependencies */
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
            background-color: var(--color-background);
            color: var(--color-primary-text);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            scroll-behavior: smooth;
        }

        main {
            flex-grow: 1;
            /* Ensure main content has enough padding at the bottom to not be obscured by the fixed navbar */
            padding-bottom: calc(48px + var(--spacing-lg)); /* Height of collapsed navbar + some margin */
        }

        h1, h2, h3, h4, h5, h6 {
            color: var(--color-primary-text);
            margin-bottom: var(--spacing-sm);
            line-height: 1.2;
        }

        h1 { font-size: var(--font-size-3xl); }
        h2 { font-size: var(--font-size-2xl); }
        h3 { font-size: var(--font-size-xl); }
        h4 { font-size: var(--font-size-lg); }
        p { margin-bottom: var(--spacing-sm); }
        ul { list-style-type: disc; margin-left: var(--spacing-lg); margin-bottom: var(--spacing-sm); }
        ol { list-style-type: decimal; margin-left: var(--spacing-lg); margin-bottom: var(--spacing-sm); }
        li { margin-bottom: 0.5rem; }

        a {
            color: var(--color-accent-blue);
            text-decoration: none;
        }
        a:hover, a:focus {
            text-decoration: underline;
        }

        /* Utility Classes */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: var(--spacing-md);
        }

        .card {
            background-color: var(--color-surface);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-light);
            padding: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
            border: 1px solid var(--color-border);
        }

        .button {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--border-radius);
            font-size: var(--font-size-base);
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.1s ease;
            min-width: 48px; /* WCAG touch target */
            min-height: 48px; /* WCAG touch target */
            text-align: center;
            border: none;
        }

        .button-primary {
            background-color: var(--color-accent-blue);
            color: var(--color-surface);
        }
        .button-primary:hover, .button-primary:focus {
            background-color: #0056b3; /* Darker blue */
            transform: translateY(-1px);
        }

        .button-secondary {
            background-color: var(--color-border);
            color: var(--color-primary-text);
        }
        .button-secondary:hover, .button-secondary:focus {
            background-color: #d0d0d0;
            transform: translateY(-1px);
        }

        /* Custom Utility Classes (added for consistency) */
        .text-secondary-text {
            color: var(--color-secondary-text);
        }

        .mt-lg {
            margin-top: var(--spacing-lg);
        }

        /* Banner Section */
        .banner {
            background: linear-gradient(135deg, var(--color-accent-blue), #0056b3);
            color: var(--color-surface);
            padding: var(--spacing-xl) var(--spacing-md);
            text-align: center;
            border-bottom-left-radius: var(--border-radius);
            border-bottom-right-radius: var(--border-radius);
            margin-bottom: var(--spacing-lg);
        }
        .banner h1 {
            color: var(--color-surface);
            font-size: var(--font-size-3xl);
            margin-bottom: var(--spacing-xs);
        }
        .banner p {
            font-size: var(--font-size-lg);
            opacity: 0.9;
            max-width: 800px;
            margin: 0 auto;
        }

        /* Interactive Centerpiece - Build Configurator */
        .build-configurator {
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
        }
        .build-configurator .config-section {
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        .build-configurator .config-section summary {
            background-color: var(--color-accent-blue);
            color: var(--color-surface);
            padding: var(--spacing-sm) var(--spacing-md);
            cursor: pointer;
            font-weight: 600;
            font-size: var(--font-size-md);
            display: flex;
            justify-content: space-between;
            align-items: center;
            outline: none;
            transition: background-color 0.2s ease;
        }
        .build-configurator .config-section summary:hover,
        .build-configurator .config-section summary:focus {
            background-color: #0056b3;
        }
        .build-configurator .config-section summary::-webkit-details-marker {
            display: none;
        }
        .build-configurator .config-section summary::after {
            content: '+';
            font-size: var(--font-size-xl);
            transition: transform 0.2s ease;
        }
        .build-configurator .config-section[open] summary::after {
            content: '-';
            transform: rotate(0deg); /* No rotation for plus/minus */
        }
        .build-configurator .config-content {
            padding: var(--spacing-md);
            background-color: var(--color-surface);
        }
        .build-configurator .component-group {
            margin-bottom: var(--spacing-md);
            border-bottom: 1px dashed var(--color-border);
            padding-bottom: var(--spacing-sm);
        }
        .build-configurator .component-group:last-child {
            border-bottom: none;
            margin-bottom: 0;
            padding-bottom: 0;
        }
        .build-configurator .component-group h4 {
            margin-bottom: var(--spacing-xs);
            color: var(--color-accent-blue);
        }
        .build-configurator .component-option {
            display: flex;
            align-items: flex-start;
            margin-bottom: var(--spacing-xs);
            padding: var(--spacing-xs);
            border-radius: var(--border-radius);
            transition: background-color 0.1s ease;
        }
        .build-configurator .component-option:hover {
            background-color: #F0F0F0;
        }
        .build-configurator .component-option input[type="radio"] {
            min-width: 24px; /* Larger hit area */
            min-height: 24px; /* Larger hit area */
            margin-right: var(--spacing-xs);
            flex-shrink: 0;
            cursor: pointer;
            transform: scale(1.2); /* Make radio buttons more visible */
        }
        .build-configurator .component-option label {
            font-size: var(--font-size-base);
            cursor: pointer;
            flex-grow: 1;
            padding-top: 2px; /* Align text with radio button */
        }
        .build-configurator .component-option .price {
            font-weight: 600;
            color: var(--color-accent-green);
            margin-left: var(--spacing-sm);
            flex-shrink: 0;
        }
        .build-summary {
            margin-top: var(--spacing-lg);
            padding: var(--spacing-md);
            background-color: var(--color-accent-green);
            color: var(--color-surface);
            border-radius: var(--border-radius);
            font-size: var(--font-size-lg);
            font-weight: 700;
            text-align: center;
        }
        .build-summary span {
            display: block;
            margin-top: var(--spacing-xs);
            font-size: var(--font-size-2xl);
        }

        /* Deep Dive Modules */
        .deep-dive-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: var(--spacing-lg);
        }
        .deep-dive-grid .card {
            padding: var(--spacing-md);
            display: flex;
            flex-direction: column;
        }
        .deep-dive-grid .card h3 {
            color: var(--color-accent-blue);
            margin-bottom: var(--spacing-sm);
        }
        .deep-dive-grid .card p, .deep-dive-grid .card ul {
            font-size: var(--font-size-base);
            color: var(--color-secondary-text);
        }

        /* MythBusting & FAQ */
        .faq-section details {
            background-color: var(--color-surface);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            margin-bottom: var(--spacing-sm);
            overflow: hidden;
        }
        .faq-section summary {
            padding: var(--spacing-sm) var(--spacing-md);
            font-weight: 600;
            cursor: pointer;
            outline: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #F0F0F0;
            transition: background-color 0.2s ease;
            min-height: 48px; /* WCAG touch target */
        }
        .faq-section summary:hover, .faq-section summary:focus {
            background-color: #E0E0E0;
        }
        .faq-section summary::-webkit-details-marker {
            display: none;
        }
        .faq-section summary::after {
            content: '+';
            font-size: var(--font-size-lg);
            transition: transform 0.2s ease;
        }
        .faq-section details[open] summary::after {
            content: '-';
            transform: rotate(0deg);
        }
        .faq-section .faq-content {
            padding: var(--spacing-sm) var(--spacing-md) var(--spacing-md);
            font-size: var(--font-size-base);
            color: var(--color-secondary-text);
        }

        /* Action Plan & Resources */
        .action-plan ol {
            list-style-type: none;
            counter-reset: step-counter;
            margin-left: 0;
        }
        .action-plan li {
            counter-increment: step-counter;
            margin-bottom: var(--spacing-sm);
            padding-left: var(--spacing-lg);
            position: relative;
            font-size: var(--font-size-base);
        }
        .action-plan li::before {
            content: counter(step-counter);
            position: absolute;
            left: 0;
            top: 0;
            background-color: var(--color-accent-blue);
            color: var(--color-surface);
            border-radius: 50%;
            width: 1.5rem;
            height: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: var(--font-size-sm);
        }
        .resources ul {
            list-style-type: none;
            margin-left: 0;
        }
        .resources li {
            margin-bottom: var(--spacing-xs);
        }

        /* Sources Section */
        .sources-section {
            padding: var(--spacing-md);
            background-color: var(--color-surface);
            border-top: 1px solid var(--color-border);
            border-top-left-radius: var(--border-radius);
            border-top-right-radius: var(--border-radius);
            margin-top: var(--spacing-xl);
        }
        .sources-section h2 {
            color: var(--color-primary-text);
            margin-bottom: var(--spacing-md);
        }
        .sources-section ol {
            list-style-type: decimal;
            margin-left: var(--spacing-lg);
            font-size: var(--font-size-sm);
            color: var(--color-secondary-text);
        }
        .sources-section li {
            margin-bottom: var(--spacing-xs);
        }

        /* Floating Navbar */
        .floating-navbar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: var(--color-primary-text);
            color: var(--color-surface);
            border-top-left-radius: var(--border-radius);
            border-top-right-radius: var(--border-radius);
            box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            transition: transform 0.3s ease-in-out;
            /* Collapsed height (toggle button height) */
            transform: translateY(calc(100% - 48px));
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .floating-navbar.expanded {
            transform: translateY(0);
        }

        .navbar-toggle {
            background-color: var(--color-accent-blue);
            color: var(--color-surface);
            border: none;
            /* Rounded top corners for the toggle button */
            border-radius: var(--border-radius) var(--border-radius) 0 0;
            padding: var(--spacing-xs) var(--spacing-md);
            font-size: var(--font-size-base);
            font-weight: 600;
            cursor: pointer;
            width: fit-content;
            /* Pull button up to be visible when navbar is collapsed */
            margin-top: -48px;
            min-width: 48px;
            min-height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 -2px 6px rgba(0, 0, 0, 0.1);
            transition: background-color 0.2s ease;
            /* Ensure it's centered within its flex container */
            align-self: center;
        }
        .navbar-toggle:hover, .navbar-toggle:focus {
            background-color: #0056b3;
        }

        .navbar-content {
            width: 100%;
            padding: var(--spacing-md);
            display: flex;
            flex-direction: column;
            gap: var(--spacing-md);
            max-height: 70vh; /* Limit height for mobile */
            overflow-y: auto;
        }

        .navbar-tool {
            background-color: var(--color-surface);
            color: var(--color-primary-text);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            box-shadow: var(--shadow-light);
            border: 1px solid var(--color-border);
        }
        .navbar-tool h4 {
            color: var(--color-accent-blue);
            margin-bottom: var(--spacing-sm);
        }
        .navbar-tool label {
            display: block;
            margin-bottom: var(--spacing-xs);
            font-size: var(--font-size-base);
        }
        .navbar-tool input[type="number"],
        .navbar-tool input[type="text"] {
            width: 100%;
            padding: var(--spacing-xs);
            margin-bottom: var(--spacing-sm);
            border: 1px solid var(--color-border);
            border-radius: var(--border-radius);
            font-size: var(--font-size-base);
            color: var(--color-primary-text);
            background-color: #FDFDFD;
        }
        .navbar-tool .result {
            margin-top: var(--spacing-sm);
            font-weight: 600;
            font-size: var(--font-size-md);
            color: var(--color-accent-green);
        }
        .navbar-tool .error-message {
            color: red;
            font-size: var(--font-size-sm);
            margin-top: var(--spacing-xs);
        }

        /* Responsive Adjustments */
        @media (min-width: 768px) {
            .container {
                padding: var(--spacing-lg);
            }
            .banner h1 {
                font-size: var(--font-size-3xl); /* Keep large for impact */
            }
            .banner p {
                font-size: var(--font-size-xl);
            }

            .deep-dive-grid {
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            }

            .build-configurator .component-option {
                flex-wrap: nowrap;
            }
            .build-configurator .component-option label {
                white-space: normal; /* Allow wrapping */
            }
            .build-configurator .component-option .price {
                white-space: nowrap; /* Prevent price from wrapping */
            }

            /* --- Corrected Floating Navbar Behavior for Desktop --- */
            .floating-navbar {
                position: fixed; /* Keep it fixed on desktop */
                bottom: 0;
                left: 0;
                width: 100%;
                background-color: var(--color-primary-text); /* Keep dark background */
                color: var(--color-surface); /* Keep light text */
                border-top-left-radius: var(--border-radius);
                border-top-right-radius: var(--border-radius);
                box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.1);
                z-index: 1000;
                transition: transform 0.3s ease-in-out;
                /* Start collapsed, showing only the toggle button */
                transform: translateY(calc(100% - 48px)); /* Collapsed height (toggle button height) */
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .floating-navbar.expanded {
                transform: translateY(0); /* Expands fully */
            }

            .navbar-toggle {
                /* The margin-top is still needed to pull the button visually above the collapsed bar's body */
                margin-top: -48px;
                /* Re-apply border-radius for consistency */
                border-radius: var(--border-radius) var(--border-radius) 0 0;
                /* Ensure it remains centered */
                align-self: center;
            }

            .navbar-content {
                /* On desktop, content should be row-based and take full width of navbar */
                flex-direction: row;
                justify-content: space-around;
                align-items: flex-start;
                max-height: none; /* Remove height limit on desktop */
                overflow-y: visible;
                padding-top: var(--spacing-md); /* Add some padding from the toggle button */
            }

            .navbar-tool {
                flex: 1;
                max-width: 45%; /* Two columns */
            }

            /* The desktop-collapsed class hides the content when the navbar is collapsed on desktop */
            .floating-navbar.desktop-collapsed .navbar-content {
                display: none; /* Hide content when collapsed on desktop */
            }
        }

        @media (min-width: 1024px) {
            .build-configurator {
                flex-direction: row;
                flex-wrap: wrap;
            }
            .build-configurator .config-section {
                flex: 1 1 calc(50% - var(--spacing-md)); /* Two columns */
            }
            .build-configurator .config-section:nth-child(odd) {
                margin-right: var(--spacing-md);
            }
            .build-configurator .config-section:nth-child(even) {
                margin-left: var(--spacing-md);
            }
            .build-configurator .build-summary {
                flex-basis: 100%;
            }
        }

        @media (min-width: 1440px) {
            .navbar-tool {
                max-width: 30%; /* Three columns */
            }
        }
    </style>
</head>
<body>
    <header class="banner" role="banner">
        <div class="container">
            <h1>The Ultimate High-Throughput Workstation</h1>
            <p>A two-stage build plan for a powerful, quiet, and efficient system for AI/ML, 4K gaming, virtualization, and media serving.</p>
        </div>
    </header>

    <main>
        <section id="introduction" class="container card" aria-labelledby="intro-heading">
            <h2 id="intro-heading">Wishlist Machine v1.5: Converged Workstation Blueprint</h2>
            <p>This report details a two-stage build plan for a high-performance workstation designed to consolidate multiple demanding, concurrent workloads into a single, efficient, and acoustically discrete system. The core design philosophy adheres strictly to maximizing performance-per-dollar, prioritizing quiet operation, and ensuring a seamless, non-destructive upgrade path from the initial Minimum Viable Product (MVP) to the final configuration. The analysis and component selections are tailored to meet the specific technical requirements for heavy AI/ML training, 4K gaming, virtualization, and high-traffic media serving.</p>
        </section>

        <section id="build-configurator" class="container card" aria-labelledby="configurator-heading">
            <h2 id="configurator-heading">Interactive Build Configurator</h2>
            <p class="text-secondary-text">Select your desired build stage (MVP or Final) for each component category to see the estimated cost and specifications. All prices are estimates in Canadian Dollars (CAD) based on sourcing in Ottawa, Ontario.</p>

            <div class="build-configurator" role="group" aria-label="Workstation Build Configuration">
                <details class="config-section" open>
                    <summary>Core Platform: CPUs & Motherboard</summary>
                    <div class="config-content">
                        <div class="component-group">
                            <h4>Motherboard</h4>
                            <div class="component-option">
                                <input type="radio" id="mobo-final" name="motherboard" value="Supermicro X10DRi - Used" data-price-min="200" data-price-max="350" data-condition="Used" checked aria-label="Supermicro X10DRi - Used">
                                <label for="mobo-final">Supermicro X10DRi (E-ATX, Dual LGA2011-3, 10x SATA, ample PCIe)</label>
                                <span class="price">CAD $200-$350</span>
                            </div>
                        </div>
                        <div class="component-group">
                            <h4>CPUs</h4>
                            <div class="component-option">
                                <input type="radio" id="cpu-mvp" name="cpu" value="1x Intel Xeon E5-2680 v4 - Used" data-price-min="60" data-price-max="80" data-condition="Used" checked aria-label="1x Intel Xeon E5-2680 v4 - MVP">
                                <label for="cpu-mvp">MVP: 1x Intel Xeon E5-2680 v4 (14C/28T, 120W TDP)</label>
                                <span class="price">CAD $60-$80</span>
                            </div>
                            <div class="component-option">
                                <input type="radio" id="cpu-final" name="cpu" value="2x Intel Xeon E5-2680 v4 - Used" data-price-min="120" data-price-max="160" data-condition="Used" aria-label="2x Intel Xeon E5-2680 v4 - Final">
                                <label for="cpu-final">Final: 2x Intel Xeon E5-2680 v4 (28C/56T, 240W TDP total)</label>
                                <span class="price">CAD $120-$160</span>
                            </div>
                        </div>
                        <div class="component-group">
                            <h4>CPU Coolers & Mounts</h4>
                            <div class="component-option">
                                <input type="radio" id="cooler-mvp" name="cooler" value="1x Noctua NH-U12S redux + 1x NM-i2011 Kit - New" data-price-min="130" data-price-max="155" data-condition="New" checked aria-label="1x Noctua NH-U12S redux + 1x NM-i2011 Kit - MVP">
                                <label for="cooler-mvp">MVP: 1x Noctua NH-U12S redux + 1x NM-i2011 Kit</label>
                                <span class="price">CAD $130-$155</span>
                            </div>
                            <div class="component-option">
                                <input type="radio" id="cooler-final" name="cooler" value="2x Noctua NH-U12S redux + 2x NM-i2011 Kit - New" data-price-min="260" data-price-max="310" data-condition="New" aria-label="2x Noctua NH-U12S redux + 2x NM-i2011 Kit - Final">
                                <label for="cooler-final">Final: 2x Noctua NH-U12S redux + 2x NM-i2011 Kit</label>
                                <span class="price">CAD $260-$310</span>
                            </div>
                        </div>
                    </div>
                </details>

                <details class="config-section">
                    <summary>Graphics & Compute: GPUs & Interconnect</summary>
                    <div class="config-content">
                        <div class="component-group">
                            <h4>Graphics Cards</h4>
                            <div class="component-option">
                                <input type="radio" id="gpu-mvp" name="gpu" value="1x NVIDIA RTX 3090 (Blower) - Used" data-price-min="900" data-price-max="1200" data-condition="Used" checked aria-label="1x NVIDIA RTX 3090 (Blower) - MVP">
                                <label for="gpu-mvp">MVP: 1x NVIDIA GeForce RTX 3090 (Blower, 24GB VRAM)</label>
                                <span class="price">CAD $900-$1,200</span>
                            </div>
                            <div class="component-option">
                                <input type="radio" id="gpu-final" name="gpu" value="2x NVIDIA RTX 3090 (Blower) - Used" data-price-min="1800" data-price-max="2400" data-condition="Used" aria-label="2x NVIDIA RTX 3090 (Blower) - Final">
                                <label for="gpu-final">Final: 2x NVIDIA GeForce RTX 3090 (Blower, 48GB Unified VRAM)</label>
                                <span class="price">CAD $1,800-$2,400</span>
                            </div>
                        </div>
                        <div class="component-group">
                            <h4>GPU Interconnect</h4>
                            <div class="component-option">
                                <input type="radio" id="nvlink-none" name="nvlink" value="None" data-price-min="0" data-price-max="0" data-condition="N/A" checked aria-label="No NVLink Bridge - MVP">
                                <label for="nvlink-none">MVP: No NVLink Bridge</label>
                                <span class="price">CAD $0</span>
                            </div>
                            <div class="component-option">
                                <input type="radio" id="nvlink-final" name="nvlink" value="NVIDIA RTX 3090 NVLink Bridge (4-Slot) - Used/New" data-price-min="100" data-price-max="200" data-condition="Used/New" aria-label="NVIDIA RTX 3090 NVLink Bridge (4-Slot) - Final">
                                <label for="nvlink-final">Final: NVIDIA RTX 3090 NVLink Bridge (4-Slot)</label>
                                <span class="price">CAD $100-$200</span>
                            </div>
                        </div>
                    </div>
                </details>

                <details class="config-section">
                    <summary>Memory & Storage Hierarchy</summary>
                    <div class="config-content">
                        <div class="component-group">
                            <h4>System Memory (ECC RDIMM)</h4>
                            <div class="component-option">
                                <input type="radio" id="ram-mvp" name="ram" value="128GB (4x 32GB) DDR4 ECC RDIMM - Used" data-price-min="240" data-price-max="320" data-condition="Used" checked aria-label="128GB (4x 32GB) DDR4 ECC RDIMM - MVP">
                                <label for="ram-mvp">MVP: 128GB (4x 32GB) DDR4 ECC RDIMM</label>
                                <span class="price">CAD $240-$320</span>
                            </div>
                            <div class="component-option">
                                <input type="radio" id="ram-final" name="ram" value="256GB (8x 32GB) DDR4 ECC RDIMM - Used" data-price-min="480" data-price-max="640" data-condition="Used" aria-label="256GB (8x 32GB) DDR4 ECC RDIMM - Final">
                                <label for="ram-final">Final: 256GB (8x 32GB) DDR4 ECC RDIMM</label>
                                <span class="price">CAD $480-$640</span>
                            </div>
                        </div>
                        <div class="component-group">
                            <h4>Storage Tier 0 (OS)</h4>
                            <div class="component-option">
                                <input type="radio" id="storage0-final" name="storage0" value="2x Samsung 980 Pro 1TB NVMe SSD (RAID 1) - New" data-price-min="300" data-price-max="340" data-condition="New" checked aria-label="2x Samsung 980 Pro 1TB NVMe SSD (RAID 1) - Final">
                                <label for="storage0-final">2x Samsung 980 Pro 1TB NVMe SSD (RAID 1)</label>
                                <span class="price">CAD $300-$340</span>
                            </div>
                        </div>
                        <div class="component-group">
                            <h4>Storage Tier 1 (Active Data)</h4>
                            <div class="component-option">
                                <input type="radio" id="storage1-final" name="storage1" value="1x Samsung 980 Pro 2TB NVMe SSD - New" data-price-min="280" data-price-max="320" data-condition="New" checked aria-label="1x Samsung 980 Pro 2TB NVMe SSD - Final">
                                <label for="storage1-final">1x Samsung 980 Pro 2TB NVMe SSD</label>
                                <span class="price">CAD $280-$320</span>
                            </div>
                        </div>
                        <div class="component-group">
                            <h4>Storage Tier 2 (Bulk Storage)</h4>
                            <div class="component-option">
                                <input type="radio" id="storage2-final" name="storage2" value="6x Seagate Exos X18 16TB HDD (ZFS RAIDZ2) - New" data-price-min="2580" data-price-max="2760" data-condition="New" checked aria-label="6x Seagate Exos X18 16TB HDD (ZFS RAIDZ2) - Final">
                                <label for="storage2-final">6x Seagate Exos X18 16TB HDD (ZFS RAIDZ2)</label>
                                <span class="price">CAD $2,580-$2,760</span>
                            </div>
                        </div>
                        <div class="component-group">
                            <h4>Storage HBA</h4>
                            <div class="component-option">
                                <input type="radio" id="hba-final" name="hba" value="LSI 9207-8i (IT Mode) - Used" data-price-min="50" data-price-max="80" data-condition="Used" checked aria-label="LSI 9207-8i (IT Mode) - Final">
                                <label for="hba-final">LSI 9207-8i (IT Mode)</label>
                                <span class="price">CAD $50-$80</span>
                            </div>
                        </div>
                    </div>
                </details>

                <details class="config-section">
                    <summary>Chassis, Power & Connectivity</summary>
                    <div class="config-content">
                        <div class="component-group">
                            <h4>Chassis</h4>
                            <div class="component-option">
                                <input type="radio" id="chassis-final" name="chassis" value="Fractal Design Define 7 XL - New" data-price-min="330" data-price-max="370" data-condition="New" checked aria-label="Fractal Design Define 7 XL - Final">
                                <label for="chassis-final">Fractal Design Define 7 XL (Full Tower, Sound Dampened)</label>
                                <span class="price">CAD $330-$370</span>
                            </div>
                        </div>
                        <div class="component-group">
                            <h4>Case Fans</h4>
                            <div class="component-option">
                                <input type="radio" id="casefans-final" name="casefans" value="3x Fractal Design Dynamic X2 GP-14 PWM - New" data-price-min="60" data-price-max="75" data-condition="New" checked aria-label="3x Fractal Design Dynamic X2 GP-14 PWM - Final">
                                <label for="casefans-final">3x Fractal Design Dynamic X2 GP-14 PWM (Additional)</label>
                                <span class="price">CAD $60-$75</span>
                            </div>
                        </div>
                        <div class="component-group">
                            <h4>Power Supply</h4>
                            <div class="component-option">
                                <input type="radio" id="psu-final" name="psu" value="Seasonic PRIME TX-1300 Titanium - New" data-price-min="640" data-price-max="680" data-condition="New" checked aria-label="Seasonic PRIME TX-1300 Titanium - Final">
                                <label for="psu-final">Seasonic PRIME TX-1300 Titanium (1300W, 80+ Titanium, Fanless Mode)</label>
                                <span class="price">CAD $640-$680</span>
                            </div>
                        </div>
                        <div class="component-group">
                            <h4>Network Card</h4>
                            <div class="component-option">
                                <input type="radio" id="nic-final" name="nic" value="Used Intel X520-DA2 / Mellanox ConnectX-3 (10GbE SFP+) - Used" data-price-min="40" data-price-max="70" data-condition="Used" checked aria-label="Used Intel X520-DA2 / Mellanox ConnectX-3 (10GbE SFP+) - Final">
                                <label for="nic-final">Used Intel X520-DA2 / Mellanox ConnectX-3 (10GbE SFP+)</label>
                                <span class="price">CAD $40-$70</span>
                            </div>
                        </div>
                    </div>
                </details>

                <div class="build-summary" aria-live="polite">
                    Estimated Total Cost: <span id="total-cost">CAD $0 - $0</span>
                </div>
            </div>
        </section>

        <section id="deep-dive" class="container" aria-labelledby="deep-dive-heading">
            <h2 id="deep-dive-heading">Deep Dive Modules</h2>
            <p class="text-secondary-text">Explore the strategic reasoning behind key component selections.</p>
            <div class="deep-dive-grid">
                <div class="card">
                    <h3>The Broadwell-EP Advantage: Why Used Xeon E5 v4?</h3>
                    <p>Leveraging used enterprise hardware, specifically the Intel Xeon E5 v4 platform (LGA2011-3 socket), provides unparalleled performance-per-dollar. These high-core-count CPUs are available at a fraction of their original cost, offering robust multi-core performance for AI/ML, virtualization, and media serving. The platform's 80 PCIe 3.0 lanes ensure ample bandwidth for dual GPUs, HBA, and 10GbE NIC without bottlenecks. This choice also aligns with cost-effective DDR4 ECC RDIMM memory.</p>
                </div>
                <div class="card">
                    <h3>RTX 3090 & NVLink: The Unified VRAM Powerhouse</h3>
                    <p>The NVIDIA GeForce RTX 3090 is uniquely chosen for its 24GB GDDR6X VRAM and NVLink support. Two RTX 3090s bridged via NVLink create a 48GB unified memory pool, crucial for large AI models and model parallelism. Unlike newer GPUs, the RTX 3090 retains NVLink, making it the ideal converged GPU for both high-fidelity 4K gaming and serious AI/ML workloads. Sourcing blower-style cards is critical for effective multi-GPU air cooling.</p>
                </div>
                <div class="card">
                    <h3>Tiered Storage & ZFS: Data Integrity and Performance</h3>
                    <p>A three-tiered storage hierarchy ensures optimal performance and data integrity:</p>
                    <ul>
                        <li><strong>Tier 0 (OS):</strong> Redundant RAID 1 NVMe SSDs (e.g., Samsung 980 Pro 1TB) for fast, resilient OS and application loading.</li>
                        <li><strong>Tier 1 (Active Data):</strong> A single high-speed NVMe SSD (e.g., Samsung 980 Pro 2TB) for active VM disk images, AI datasets, and application caches requiring high I/O.</li>
                        <li><strong>Tier 2 (Bulk Storage):</strong> A high-capacity array of enterprise HDDs (e.g., Seagate Exos X18 16TB) in a ZFS RAIDZ2 configuration for two-drive fault tolerance, checksumming, and self-healing.</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>Acoustic & Thermal Mastery: Quiet Power</h3>
                    <p>Achieving quiet operation under heavy loads requires careful component selection:</p>
                    <ul>
                        <li><strong>Chassis:</strong> Fractal Design Define 7 XL, engineered for sound dampening with high-density material and ample space for cooling.</li>
                        <li><strong>CPU Coolers:</strong> Two Noctua NH-U12S redux coolers, known for high performance and low noise, paired with 120W TDP CPUs.</li>
                        <li><strong>Power Supply:</strong> Seasonic PRIME TX-1300 Titanium, featuring an 80 PLUS Titanium rating for efficiency and a critical hybrid fan control that enables silent/fanless operation at low to moderate loads.</li>
                        <li><strong>Case Fans:</strong> Additional Fractal Design Dynamic X2 GP-14 PWM fans for optimal, quiet airflow.</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>10GbE Connectivity: Unlocking Server Potential</h3>
                    <p>A dedicated 10 Gigabit Ethernet (10GbE) Network Interface Card (NIC) is essential for the system's server roles. This enables:</p>
                    <ul>
                        <li>High-traffic Plex media serving without bottlenecks.</li>
                        <li>Rapid transfer of large AI datasets.</li>
                        <li>Efficient management and migration of multiple virtual machines.</li>
                    </ul>
                    <p>SFP+ based NICs (e.g., used Intel X520-DA2 or Mellanox ConnectX-3) are preferred for their power efficiency and flexibility over 10GBASE-T.</p>
                </div>
            </div>
        </section>

        <section id="myth-faq" class="container card" aria-labelledby="myth-faq-heading">
            <h2 id="myth-faq-heading">MythBusting & Advanced FAQ</h2>
            <p class="text-secondary-text">Separating fact from fiction and answering common inquiries about high-performance workstation builds.</p>

            <h3>MythBusting</h3>
            <div class="faq-section">
                <details>
                    <summary>Myth: Older Xeon platforms are I/O bottlenecked for modern GPUs.</summary>
                    <div class="faq-content">
                        <p><strong>Debunked:</strong> While the Xeon E5 v4 platform uses PCIe 3.0, each CPU provides 40 lanes, totaling 80 lanes in a dual-CPU setup. This abundance allows two high-end GPUs to operate at their full PCIe 3.0 x16 bandwidth, along with an HBA at x8 and a 10GbE NIC at x8, all simultaneously without compromise. The real-world performance impact of running PCIe 4.0 GPUs in a PCIe 3.0 x16 slot is negligible for the vast majority of gaming and compute workloads, making the high lane count a key enabler, not a bottleneck.</p>
                    </div>
                </details>
                <details>
                    <summary>Myth: You need an RTX 4090 for top-tier AI and gaming performance.</summary>
                    <div class="faq-content">
                        <p><strong>Debunked:</strong> The NVIDIA RTX 4090, while powerful, lacks NVLink support, which is critical for creating a unified VRAM pool for large AI models. The dual RTX 3090 setup with NVLink provides 48GB of unified VRAM, a unique advantage for AI model parallelism that the RTX 4090 cannot match. For 4K gaming, two RTX 3090s also offer formidable performance. This makes the RTX 3090 a superior choice for the specific converged workload requirements of this build, especially considering its value on the used market.</p>
                    </div>
                </details>
                <details>
                    <summary>Myth: Air cooling cannot handle dual high-end GPUs and CPUs in a single system.</summary>
                    <div class="faq-content">
                        <p><strong>Debunked:</strong> This build demonstrates that effective air cooling is achievable with careful component selection and optimization. Key strategies include: selecting CPUs with a manageable 120W TDP (like the Xeon E5-2680 v4), using high-performance, low-noise CPU coolers (Noctua NH-U12S redux), sourcing blower-style RTX 3090 GPUs that exhaust heat directly out of the case, implementing undervolting for GPUs to reduce heat output, and utilizing a sound-dampened full-tower case (Fractal Design Define 7 XL) with optimized airflow.</p>
                    </div>
                </details>
            </div>

            <h3>Advanced FAQ</h3>
            <div class="faq-section">
                <details>
                    <summary>Why is Error-Correcting Code (ECC) Registered memory (RDIMM) a non-negotiable requirement?</summary>
                    <div class="faq-content">
                        <p>For a system with server-level responsibilities like virtualization, ZFS file serving, and hosting large AI models, data integrity is paramount. ECC memory actively detects and corrects single-bit memory errors that could otherwise lead to system crashes, data corruption, or silent data loss. RDIMMs are registered memory modules that buffer electrical loads, improving stability in high-capacity, multi-DIMM configurations typical of server platforms, ensuring maximum stability under heavy, concurrent server loads.</p>
                    </div>
                </details>
                <details>
                    <summary>What is "IT Mode" for a Host Bus Adapter (HBA) and why is it essential for ZFS?</summary>
                    <div class="faq-content">
                        <p>IT (Initiator Target) Mode firmware transforms an HBA into a simple "passthrough" device, presenting the raw, unmanaged physical storage drives directly to the operating system. This is crucial for ZFS (Zettabyte File System) because ZFS requires direct control over the drives to implement its advanced features like software RAID, checksumming, and self-healing. Without IT Mode, the HBA's onboard RAID logic would interfere with ZFS's capabilities, preventing optimal performance and data integrity.</p>
                    </div>
                </details>
                <details>
                    <summary>How does undervolting GPUs contribute to the system's goals of acoustic discretion and power efficiency?</summary>
                    <div class="faq-content">
                        <p>Undervolting involves reducing the voltage supplied to the GPU while maintaining or slightly adjusting its clock speed. This significantly lowers the GPU's power consumption, which directly translates to reduced heat output. Less heat means the GPU's cooling fans can run at slower, quieter speeds, contributing to the system's acoustic discretion. Furthermore, lower power consumption improves overall system efficiency. NVIDIA GPUs, including the RTX 3090, are known to respond very well to undervolting, allowing for a better balance of performance, thermals, and noise.</p>
                    </div>
                </details>
                <details>
                    <summary>Why is a 10 Gigabit Ethernet (10GbE) Network Interface Card (NIC) necessary for this workstation?</summary>
                    <div class="faq-content">
                        <p>Standard Gigabit Ethernet (1GbE) can become a bottleneck for the demanding network-intensive tasks this workstation is designed for. A 10GbE NIC provides ten times the throughput, which is essential for:</p>
                        <ul>
                            <li><strong>High-Traffic Media Serving:</strong> Ensuring smooth streaming from the Plex server to multiple clients, especially for high-bitrate 4K content.</li>
                            <li><strong>AI Dataset Transfers:</strong> Rapidly moving large AI training datasets to and from network storage or other machines.</li>
                            <li><strong>Virtualization Efficiency:</strong> Improving network performance for virtual machines, particularly for shared storage or inter-VM communication.</li>
                        </ul>
                    </div>
                </details>
                <details>
                    <summary>Why are "blower-style" RTX 3090 GPUs recommended over traditional "open-air" coolers for this multi-GPU build?</summary>
                    <div class="faq-content">
                        <p>In a multi-GPU configuration, especially when cards are stacked closely, traditional "open-air" coolers exhaust hot air back into the case, causing the upper GPU to ingest the hot exhaust from the lower one. This leads to significantly higher temperatures and thermal throttling, reducing performance and increasing noise. Blower-style coolers, in contrast, draw air from within the case and exhaust all of the hot air directly out the rear I/O panel of the chassis. This design is crucial for maintaining optimal temperatures, performance, and acoustic levels in a densely packed, air-cooled dual-GPU system.</p>
                    </div>
                </details>
                <details>
                    <summary>What are the key benefits of using a ZFS RAIDZ2 configuration for bulk storage?</summary>
                    <div class="faq-content">
                        <p>ZFS (Zettabyte File System) is a powerful file system and volume manager known for its robust data integrity features. RAIDZ2, a specific ZFS RAID level, offers several critical benefits:</p>
                        <ul>
                            <li><strong>Two-Drive Fault Tolerance:</strong> RAIDZ2 can withstand the failure of any two drives in the array without data loss, providing superior redundancy compared to RAID5 (single drive failure) or RAID6 (two drive failures, but ZFS's implementation is often more robust).</li>
                            <li><strong>Data Checksumming:</strong> ZFS continuously calculates and verifies data checksums. If data corruption occurs (e.g., "bit rot"), ZFS can detect it.</li>
                            <li><strong>Self-Healing:</strong> When corruption is detected and redundancy exists (like in RAIDZ2), ZFS can automatically repair the corrupted data using parity information from the healthy drives.</li>
                            <li><strong>Copy-on-Write:</strong> ZFS uses a copy-on-write mechanism, which enhances data integrity by ensuring data is never overwritten in place.</li>
                        </ul>
                        <p>These features make ZFS RAIDZ2 an excellent choice for critical bulk storage where data integrity and availability are paramount.</p>
                    </div>
                </details>
            </div>
        </section>

        <section id="action-resources" class="container card" aria-labelledby="action-resources-heading">
            <h2 id="action-resources-heading">Graduated Action Plan & Curated Resources</h2>
            <p class="text-secondary-text">A roadmap for building your Wishlist Machine and where to find more information.</p>

            <h3 class="mt-lg">Action Plan</h3>
            <div class="action-plan">
                <h4>Foundational Steps (MVP Build)</h4>
                <ol>
                    <li>Source the core enterprise platform components: Motherboard (Supermicro X10DRi), 1x Intel Xeon E5-2680 v4 CPU, and 128GB (4x 32GB) DDR4 ECC RDIMM. Prioritize used markets (eBay.ca, Canada Server Store) for best value.</li>
                    <li>Acquire the primary GPU: 1x NVIDIA GeForce RTX 3090 (blower style). Check used markets (eBay.ca, r/canadianhardwareswap) and reputable retailers.</li>
                    <li>Purchase new essential components: Fractal Design Define 7 XL chassis, Seasonic PRIME TX-1300 Titanium PSU, 2x Samsung 980 Pro 1TB NVMe SSDs, 1x Samsung 980 Pro 2TB NVMe SSD, and 6x Seagate Exos X18 16TB HDDs.</li>
                    <li>Obtain the LSI 9207-8i HBA (pre-flashed to IT Mode) and a used 10GbE NIC (Intel X520-DA2 or Mellanox ConnectX-3).</li>
                    <li>Assemble the MVP system, ensuring proper cable management and airflow for initial testing.</li>
                </ol>

                <h4>Intermediate Challenges (Initial Optimizations)</h4>
                <ol>
                    <li>Configure the storage hierarchy: Set up the RAID 1 for OS NVMe drives, format the active data NVMe, and establish the ZFS RAIDZ2 pool for bulk storage using the HBA.</li>
                    <li>Install and configure your chosen operating system (e.g., Linux with ZFS support, Windows Server).</li>
                    <li>Implement undervolting for the RTX 3090 GPU using tools like MSI Afterburner to optimize thermals and acoustics.</li>
                    <li>Begin deploying your initial workloads: Set up virtualization environment, start AI model training, or configure your Plex media server.</li>
                </ol>

                <h4>Advanced Optimizations (Final Build Upgrade)</h4>
                <ol>
                    <li>Acquire the second identical Intel Xeon E5-2680 v4 CPU and 128GB (4x 32GB) DDR4 ECC RDIMM kit.</li>
                    <li>Source the second identical NVIDIA GeForce RTX 3090 (blower style) and the NVIDIA RTX 3090 NVLink Bridge (4-Slot).</li>
                    <li>Install the additional CPU, RAM, and GPU into the system.</li>
                    <li>Connect the two RTX 3090s with the NVLink bridge.</li>
                    <li>Fine-tune system acoustics and thermal profiles, re-evaluating fan curves and undervolting settings for the dual-GPU setup.</li>
                    <li>Expand your AI models to leverage the 48GB unified VRAM or scale up your virtualization and media serving capabilities.</li>
                </ol>
            </div>

            <h3 class="mt-lg">Curated Resources (Google Search Links)</h3>
            <div class="resources">
                <ul>
                    <li><a href="https://www.google.com/search?q=Used+Xeon+E5+v4+servers+Canada" target="_blank" rel="noopener noreferrer">Used Xeon E5 v4 Servers in Canada</a></li>
                    <li><a href="https://www.google.com/search?q=RTX+3090+blower+style+Canada" target="_blank" rel="noopener noreferrer">RTX 3090 Blower Style Cards Canada</a></li>
                    <li><a href="https://www.google.com/search?q=ZFS+RAIDZ2+tutorial+Linux" target="_blank" rel="noopener noreferrer">ZFS RAIDZ2 Configuration Tutorial</a></li>
                    <li><a href="https://www.google.com/search?q=Noctua+NH-U12S+redux+review" target="_blank" rel="noopener noreferrer">Noctua NH-U12S redux Cooler Reviews</a></li>
                    <li><a href="https://www.google.com/search?q=Seasonic+PRIME+TX-1300+Titanium+review" target="_blank" rel="noopener noreferrer">Seasonic PRIME TX-1300 Titanium PSU Reviews</a></li>
                </ul>
            </div>
        </section>
    </main>

    <footer class="sources-section" aria-labelledby="sources-heading">
        <div class="container">
            <h2 id="sources-heading">Sources</h2>
            <ol>
                <li>X10DRI X10DRi-T - Supermicro, <a href="https://www.supermicro.com/manuals/motherboard/C606_602/MNL-1491.pdf" target="_blank" rel="noopener noreferrer">supermicro.com</a></li>
                <li>Supermicro X10DRi Review - with Intel Xeon E5-2600 V4 support - Serve TheHome, <a href="https://www.servethehome.com/supermicro-x10dri-review-intel-xeon-e5-2600-v4-support/" target="_blank" rel="noopener noreferrer">servethehome.com</a></li>
                <li>Intel® Xeon® Processor E5 v4 Family, <a href="https://www.intel.com/content/www/us/en/ark/products/series/91287/intel-xeon-processor-e5-v4-family.html" target="_blank" rel="noopener noreferrer">intel.com</a></li>
                <li>Intel Xeon E5-2680 v4 14-core 2.40GHz 120W TDP CPU Processor | eBay, <a href="https://www.ebay.com/itm/164790890758" target="_blank" rel="noopener noreferrer">ebay.com</a></li>
                <li>Intel Xeon E5-2680 V4 CPU Processer 14 Core SR2N7 2.40GHz 120W 35MB L3 Cache | eBay, <a href="https://www.ebay.com/itm/126020555019" target="_blank" rel="noopener noreferrer">ebay.com</a></li>
                <li>Intel® Xeon® Processor E5-2680 v4 (35M Cache, 2.40 GHz) - Product Specifications, <a href="https://www.intel.com/content/www/us/en/products/sku/91754/intel-xeon-processor-e52680-v4-35m-cache-2-40-ghz/specifications.html" target="_blank" rel="noopener noreferrer">intel.com</a></li>
                <li>Supermicro X10DRi Server Motherboard - Intel C612 Chipset - Socket LGA 2011-v3 - Extended ATX - CompSource, Inc, <a href="https://www.compsource.com/pn/MBDX10DRIB/Supermicro-428/Supermicro-X10dri-Server-Motherboard--Intel-C612-Chipset--Socket-Lga-2011v3--Extended-Atx--1-Tb-Mbdx10drib/" target="_blank" rel="noopener noreferrer">compsource.com</a></li>
                <li>Supermicro X10DRi-T Motherboard S-2011 R3 for 2x E5-2600 v4 | Wiredzone, <a href="https://www.wiredzone.com/shop/product/10023831-supermicro-x10dri-t-motherboard-s-2011-r3-for-2x-e5-2600-v4-2818" target="_blank" rel="noopener noreferrer">wiredzone.com</a></li>
                <li>Supermicro Board Supermicro Motherboard X10DRI-T4 2x E5-2600, <a href="https://ugteck.com/?u=94549840031560&mod=be6ad6f9&uri=goods.php%3Fid%3D3159041-99%26name%3Dsupermicro+board" target="_blank" rel="noopener noreferrer">ugteck.com</a></li>
                <li>Supermicro X10dri Server Motherboard - Intel Chipset - Socket Lga 2011-V3, <a href="https://www.pc-canada.com/item/supermicro-x10dri-server-motherboard/mbd-x10dri-o-3yr-" target="_blank" rel="noopener noreferrer">pc-canada.com</a></li>
                <li>NM-12011 Mounting-Kit || Faq - Noctua, <a href="https://noctua.at/en/nm-i2011-mounting-kit.html?faq_view=74" target="_blank" rel="noopener noreferrer">noctua.at</a></li>
                <li>NM-12011 Mounting-Kit - Noctua, <a href="https://noctua.at/en/nm-i2011-mounting-kit" target="_blank" rel="noopener noreferrer">noctua.at</a></li>
                <li>Intel Xeon E5-2680 v4 @ 2.40GHz - CPU Benchmarks, <a href="https://www.cpubenchmark.net/cpu.php?cpu=Intel+Xeon+E5-2680+v4+%402.40GHz&id=2779" target="_blank" rel="noopener noreferrer">cpubenchmark.net</a></li>
                <li>Everything You Need to Know About Nvidia NVLink Compatible Cards: From RTX 3090 to GeForce RTX 30 Series Graphics - FiberMall, <a href="https://www.fibermall.com/blog/nvlink-compatible-cards.htm" target="_blank" rel="noopener noreferrer">fibermall.com</a></li>
                <li>NVIDIA GeForce RTX 3090 Review: BFGPU Benchmarks Unleashed | HotHardware, <a href="https://hothardware.com/reviews/nvidia-geforce-rtx-3090-bfgpu-review" target="_blank" rel="noopener noreferrer">hothardware.com</a></li>
                <li>Understanding GPU Choices for Large AI Models: 4090 vs ADA 6000 vs NVLinked Dual RTX 3090 | by Vivek Thakur | Medium, <a href="https://medium.com/@vvekthkr/understanding-gpu-choices-for-large-ai-models-4090-vs-ada-6000-vs-nvlinked-dual-rtx-3090-7ff82f5a45ce" target="_blank" rel="noopener noreferrer">medium.com</a></li>
                <li>Nvidia kills off NVLink on RTX 4090 - Windows Central, <a href="https://www.windowscentral.com/hardware/computers-desktops/nvidia-kills-off-nvlink-on-rtx-4090" target="_blank" rel="noopener noreferrer">windowscentral.com</a></li>
                <li>Gigabyte's RTX 4090 has Traces of NVLink | Tom's Hardware, <a href="https://www.tomshardware.com/news/gigabyte-leaves-nvlink-traces-on-geforce-rtx-4090" target="_blank" rel="noopener noreferrer">tomshardware.com</a></li>
                <li>NVIDIA RTX A5000 - graphics card - RTX A5000-24 GB - Insight Canada, <a href="https://ca.insight.com/en_CA/shop/product/4X61D97085/lenovo/4X61D97085/NVIDIA-RTX-A5000-graphics-card-RTX-A5000-24-GB/" target="_blank" rel="noopener noreferrer">ca.insight.com</a></li>
                <li>NVIDIA RTX A6000 - graphics card - RTX A6000 - 48 GB - Insight Canada, <a href="https://ca.insight.com/en_CA/shop/product/VCNRTXA6000-PB/PNY+TECHNOLOGIES/VCNRTXA6000-PB/NVIDIA-RTX-A6000---graphics-card---48-GB/" target="_blank" rel="noopener noreferrer">ca.insight.com</a></li>
                <li>PNY NVIDIA Quadro RTX A6000 Graphic Card - 48 GB GDDR6 - Full-height - CDW Canada, <a href="https://www.cdw.ca/product/pny-nvidia-quadro-rtx-a6000-graphic-card-48-gb-gddr6-full-height/6514052" target="_blank" rel="noopener noreferrer">cdw.ca</a></li>
                <li>VLLM Performance Benchmarks 4x RTX 3090 (Power Limits, and NVLINK) - Himesh's Blog, <a href="http://himeshp.blogspot.com/2025/03/vllm-performance-benchmarks-4x-rtx-3090.html" target="_blank" rel="noopener noreferrer">himeshp.blogspot.com</a></li>
                <li>Top 10 Best GPUs for Machine Learning in 2025 - Cherry Servers, <a href="https://www.cherryservers.com/blog/best-gpus-for-machine-learning" target="_blank" rel="noopener noreferrer">cherryservers.com</a></li>
                <li>rtx 3090 | Newegg.ca, <a href="https://www.newegg.ca/p/pl?d=rtx+3090" target="_blank" rel="noopener noreferrer">newegg.ca</a></li>
                <li>Rtx 3090 for sale - eBay, <a href="https://www.ebay.ca/sch/i.html?_nkw=rtx+3090&Brand=EVGA&_dcat=27386" target="_blank" rel="noopener noreferrer">ebay.ca</a></li>
                <li>$650 buys lucky eBay shopper two Nvidia RTX 3090 GPUs instead of the 3080s they ordered scoops Dell OEM cards worth thousands for a fraction of the price | Tom's Hardware, <a href="https://www.tomshardware.com/pc-components/gpus/usd650-buys-lucky-ebay-shopper-two-nvidia-rtx-3090-gpus-instead-of-the-3080s-they-ordered-scoops-dell-oem-cards-worth-thousands-for-a-fraction-of-the-price" target="_blank" rel="noopener noreferrer">tomshardware.com</a></li>
                <li>As 4090s don't support NVLink, is there any performance benefit whatsoever to dual configurations? - Reddit, <a href="https://www.reddit.com/r/LocalLLaMA/comments/1c7c802/as_4090s_dont_support_nvlink_is_there_any/" target="_blank" rel="noopener noreferrer">reddit.com</a></li>
                <li>Is 2x 3090 with NVLink faster than 2x 4090 for large 70b models?: r/LocalLLAMA - Reddit, <a href="https://www.reddit.com/r/LocalLLaMA/comments/19btnjz/is_2x_3090_with_nvlink_faster_than_2x_4090_for/" target="_blank" rel="noopener noreferrer">reddit.com</a></li>
                <li>nvlink bridge | Newegg.ca, <a href="https://www.newegg.ca/p/pl?d=nvlink+bridge" target="_blank" rel="noopener noreferrer">newegg.ca</a></li>
                <li>NVIDIA - GeForce - RTX NVLINK BRIDGE for 3090 Cards - Space Gray - RTBShopper, <a href="https://www.rtbshopper.com/collection/computer-cards-components/6441554/nvidia-geforce-rtx-nvlink-bridge-for-3090-cards-space-gray" target="_blank" rel="noopener noreferrer">rtbshopper.com</a></li>
                <li>NVIDIA GeForce RTX NVLink Bridge 4-Slot for 3090 and 30 Series Graphics Cards | eBay, <a href="https://www.ebay.ca/itm/266111918803" target="_blank" rel="noopener noreferrer">ebay.ca</a></li>
                <li>Undervolt your RTX 5060 for more FPS and Lower Temperatures! - Tutorial - YouTube, <a href="https://www.youtube.com/watch?v=YzxrV99CIWO" target="_blank" rel="noopener noreferrer">youtube.com</a></li>
                <li>Undervolt your RTX 5070 for more FPS and Lower Temperatures! - Tutorial - YouTube, <a href="https://www.youtube.com/watch?v=MhnVyMry9BU" target="_blank" rel="noopener noreferrer">youtube.com</a></li>
                <li>Can I use software to underclock or undervolt the RTX A30 and RTX A5000 GPUs to reduce power consumption? - Massed Compute, <a href="https://massedcompute.com/faq-answers/?question=Can%201%20use%20software%20to%20u
nderclock%20or%20undervolt%20the%20RTX%20A30%20and%20RTX%20A5000%20GPUs%
20to%20reduce%20power%20consumption%3F" target="_blank" rel="noopener noreferrer">massedcompute.com</a></li>
                <li>Dell Memory Upgrade - 32 GB - 2Rx4 DDR4 RDIMM 3200 MT/s 8 Gb BASE, <a href="https://www.dell.com/en-ca/shop/dell-memory-upgrade-32-gb-2rx4-ddr4-rdimm-3200-mt-s-8-gb-base/apd/aa799087/memory" target="_blank" rel="noopener noreferrer">dell.com</a></li>
                <li>Dell Memory Upgrade - 32 GB - 2Rx8 DDR4 UDIMM 3200 MT/s ECC (Not Compatible with Non-ECC and RDIMM), <a href="https://www.dell.com/en-ca/shop/dell-memory-upgrade-32-gb-2rx8-ddr4-udimm-3200-mt-s-ecc-not-compatible-with-non-ecc-and-rdimm/apd/ab806062/memory" target="_blank" rel="noopener noreferrer">dell.com</a></li>
                <li>samsung 980 pro 1tb nvme ssd | Newegg.ca, <a href="https://www.newegg.ca/p/pl?d=samsung+980+pro+1tb+nvme+ssd" target="_blank" rel="noopener noreferrer">newegg.ca</a></li>
                <li>Samsung 980 PRO MZ-V8P1T0CW 1 TB Solid State | PC-Canada, <a href="https://www.pc-canada.com/item/samsung-980-pro-mz-v8p1t0cw-1-tb-solid-state-drive/mz-v8p1t0cw" target="_blank" rel="noopener noreferrer">pc-canada.com</a></li>
                <li>Samsung 980 Pro 1 TB M.2-2280 PCIe 4.0 X4 NVME Solid State Drive - PCPartPicker, <a href="https://pcpartpicker.com/product/DDWBD3/samsung-980-pro-1-tb-m2-2280-nvme-solid-state-drive-mz-v8p1t0bam" target="_blank" rel="noopener noreferrer">pcpartpicker.com</a></li>
                <li>Samsung 980 PRO MZ-V8P2T0B - SSD - 2 TB PCIe 4.0 x4 (NVMe) - Insight Canada, <a href="https://ca.insight.com/en_CA/shop/product/MZ-V8P2T0B%2FAM/SAMSUNG/MZ-V8P2T0B%2FAM/Samsung-980-PRO-MZV8P2T0B--SSD--2-To--PCIe-40-x4-NVMe/" target="_blank" rel="noopener noreferrer">ca.insight.com</a></li>
                <li>Samsung 980 PRO SSD 2TB PCIe NVMe Gen 4 Gaming M.2 Internal Solid State Hard Drive Memory Card, Maximum Speed, Thermal Control, MZ-V8P2T0B [Canada Version], <a href="https://ca.camelcamelcamel.com/product/B08RK2SR23" target="_blank" rel="noopener noreferrer">camelcamelcamel.com</a></li>
                <li>SAMSUNG 980 PRO SSD 2TB, PCIe 4.0 M.2 2280, Speeds Up-to 6,400MB/s Best for High End Computing, Gaming, and Heavy Duty Workstations (MZV8P2T0B/AM) - Newegg.ca, <a href="https://www.newegg.ca/p/pl?d=samsung+2tb+980+pro/p/N82E16820147796" target="_blank" rel="noopener noreferrer">newegg.ca</a></li>
                <li>Seagate Exos X18 ST16000NM000J 16 TB Hard Drive - PC-Canada.com, <a href="https://www.pc-canada.com/item/seagate-exos-x18-st16000nm000j-16-tb-hard-drive/st16000nm000j" target="_blank" rel="noopener noreferrer">pc-canada.com</a></li>
                <li>Seagate Exos X18 ST16000NM000J - hard drive - 16 TB SATA 6Gb/s, <a href="https://ca.insight.com/en_CA/shop/product/ST16000NM000J/seagate/ST16000NM000J/Seagate-Exos-X18-ST16000NM000J-hard-drive-16-TB-SATA-6Gbs/" target="_blank" rel="noopener noreferrer">ca.insight.com</a></li>
                <li>seagate exos 16tb enterprise hdd x18 | Newegg.ca, <a href="https://www.newegg.ca/p/pl?d=seagate+exos+16tb+enterprise+hdd+x18" target="_blank" rel="noopener noreferrer">newegg.ca</a></li>
                <li>LSI SAS 9207-8i - storage controller - SATA 6Gb/s / SAS - PCIe 3.0 x8 - Insight Canada, <a href="https://ca.insight.com/en_CA/shop/product/LSI00301/LSI/LSI00301/LSISAS9207-8i-storagecont/" target="_blank" rel="noopener noreferrer">ca.insight.com</a></li>
                <li>LSI 9207-8i SATA/SAS 6Gb/s PCI-E 3.0 FW:P20 IT Mode for ZFS FreeNAS unRAID, <a href="https://storagetekpro.com/products/Isi00301_9207-8i_sgl" target="_blank" rel="noopener noreferrer">storagetekpro.com</a></li>
                <li>LSI 9207-8i (IT Mode) Storage Expansion Kit - Server Labs Aus, <a href="https://serverlabs.com.au/products/Isi-9207-8i" target="_blank" rel="noopener noreferrer">serverlabs.com.au</a></li>
                <li>Avago Technologies SAS 9207-8i - MacSales.com, <a href="https://eshop.macsales.com/item/Avago%20Technologies/SALSI00301/" target="_blank" rel="noopener noreferrer">macsales.com</a></li>
                <li>Fractal Design Define 7 XL Full Tower Computer Case - Performance-PCs.com, <a href="https://www.performance-pcs.com/products/fractal-design-define-xl-black-pearl-full-tower-computer-case-fd-ca-def-xl-r2-bl" target="_blank" rel="noopener noreferrer">performance-pcs.com</a></li>
                <li>Fractal Design Define 7 XL Full-Tower Case (Black, Dark-Tint Tempered Glass) - B&H Photo, <a href="https://www.bhphotovideo.com/c/product/1561273-REG/fractal_design_fd_c_def7x_03_define_7_xl_full.html" target="_blank" rel="noopener noreferrer">bhphotovideo.com</a></li>
                <li>Fractal Design Define 7 XL ATX Full Tower Case (FD-C-DEF7X-01) - PCPartPicker, <a href="https://pcpartpicker.com/product/dyLwrH/fractal-design-define-7-xl-atx-full-tower-case-fd-c-def7x-01" target="_blank" rel="noopener noreferrer">pcpartpicker.com</a></li>
                <li>Define 7 XL - Fractal Design, <a href="https://www.fractal-design.com/products/cases/define/define-7-xl/black-tg-dark-tint/" target="_blank" rel="noopener noreferrer">fractal-design.com</a></li>
                <li>Introducing Define 7 and Define 7 XL - Fractal Design, <a href="https://www.fractal-design.com/introducing-define-7-and-define-7-xl/" target="_blank" rel="noopener noreferrer">fractal-design.com</a></li>
                <li>FRACTAL DESIGN Pop XL Silent Black ATX Sound Damped Solid Panel Full Tower Computer Case, <a href="https://www.canadacomputers.com/en/full-tower-cases/223313/fractal-design-pop-xl-silent-black-atx-sound-damped-solid-panel-full-tower-computer-case-fd-c-pos1x-01.html" target="_blank" rel="noopener noreferrer">canadacomputers.com</a></li>
                <li>NH-U12S - Noctua, <a href="https://noctua.at/en/nh-u12s" target="_blank" rel="noopener noreferrer">noctua.at</a></li>
                <li>NH-U12S Redux, 158mm Height, 160W TDP, Nickel plated Copper/Aluminum CPU Cooler, <a href="https://www.avadirect.com/NH-U12S-Redux-158mm-Height-160W-TDP-Nickel-plated-Copper-Aluminum-CPU-Cooler/Product/13995510" target="_blank" rel="noopener noreferrer">avadirect.com</a></li>
                <li>NOCTUA CPU Cooler (NH-U12S) - Canada Computers & Electronics, <a href="https://www.canadacomputers.com/en/cpu-air-coolers/95406/noctua-cpu-cooler-nh-u12s-nh-u12s.html" target="_blank" rel="noopener noreferrer">canadacomputers.com</a></li>
                <li>Noctua NH-U12S redux, High Performance CPU Cooler with NF-P12 redux-1700 PWM 120mm fan (Grey) - Newegg, <a href="https://www.newegg.ca/noctua-nf-p12-redux-1700-pwm/p/13C-0005-001N1" target="_blank" rel="noopener noreferrer">newegg.ca</a></li>
                <li>Fractal Design Dynamic X2 GP-14 PWM 140mm Fan (White), <a href="https://www.compusoftandthegamestore.ca/fractal-design-dynamic-x2-gp-14-pwm-140mm-fan-whit.html" target="_blank" rel="noopener noreferrer">compusoftandthegamestore.ca</a></li>
                <li>Fractal Design Dynamic X2 GP-14 PWM 140mm Case Fan, Black - Memory Express, <a href="https://www.memoryexpress.com/Products/MX00115468" target="_blank" rel="noopener noreferrer">memoryexpress.com</a></li>
                <li>Seasonic Prime Atx 3.0 Tx-1300 1300w 80+ Titanium Full Modular Psu Power Supply Unit, <a href="https://www.pc-canada.com/item/seasonic-prime-atx-3-0-tx-1300-1300w-80-titanium-full-modula
r-psu-power-supply-unit/ssr-1300tr2" target="_blank" rel="noopener noreferrer">pc-canada.com</a></li>
                <li>Seasonic Prime TX 1300W 80Plus Titanium Fully Modular Power Supply SSR-1300TR2 - High Efficiency & Performance PSU - pcczone Canada, <a href="https://www.pcczone.ca/seasonic-prime-tx-1300w-80plus-titanium-fully-modular-power-supply-ssr-1300tr2.html" target="_blank" rel="noopener noreferrer">pcczone.ca</a></li>
                <li>SSR-1300TR2 - 1300W Prime TX 80PLUS Titanium ATX 3.1 Power Supply - ATIC Computers, <a href="http://www.atic.ca/index.php?page=details&psku=315072" target="_blank" rel="noopener noreferrer">atic.ca</a></li>
                <li>10gbe nic | Newegg.ca, <a href="https://www.newegg.ca/p/pl?d=10gbe+nic" target="_blank" rel="noopener noreferrer">newegg.ca</a></li>
                <li>NIC - Canada Server Store, <a href="https://www.canadaserverstore.com/nic" target="_blank" rel="noopener noreferrer">canadaserverstore.com</a></li>
                <li>XG-C100F | | ASUS Canada, <a href="https://www.asus.com/ca-en/networking-iot-servers/wired-networking/all-series/xg-c100f/" target="_blank" rel="noopener noreferrer">asus.com</a></li>
                <li>CPU - Canada Server Store, <a href="https://www.canadaserverstore.com/processors" target="_blank" rel="noopener noreferrer">canadaserverstore.com</a></li>
            </ol>
        </div>
    </footer>

    <div class="floating-navbar" id="floatingNavbar">
        <button class="navbar-toggle" id="navbarToggle" aria-expanded="false" aria-controls="navbarContent">
            Tools
        </button>
        <div class="navbar-content" id="navbarContent">
            <div class="navbar-tool">
                <h4>Cost Calculator</h4>
                <p>Estimate total cost for specific quantities.</p>
                <label for="calc-cpu-qty">CPU Quantity (1 or 2):</label>
                <input type="number" id="calc-cpu-qty" value="1" min="1" max="2" aria-label="CPU Quantity">
                <label for="calc-gpu-qty">GPU Quantity (1 or 2):</label>
                <input type="number" id="calc-gpu-qty" value="1" min="1" max="2" aria-label="GPU Quantity">
                <label for="calc-ram-qty">RAM Modules (4 or 8):</label>
                <input type="number" id="calc-ram-qty" value="4" min="4" max="8" step="4" aria-label="RAM Module Quantity">
                <label for="calc-hdd-qty">HDD Quantity (6+):</label>
                <input type="number" id="calc-hdd-qty" value="6" min="6" aria-label="HDD Quantity">
                <button class="button button-primary" id="calculateCostBtn">Calculate</button>
                <div class="result" id="calculatedCostResult" aria-live="polite">Estimated: CAD $0</div>
                <div class="error-message" id="calcError" role="alert"></div>
            </div>

            <div class="navbar-tool">
                <h4>TDP/Power Estimator</h4>
                <p>Estimate total system thermal design power (TDP).</p>
                <label for="tdp-cpu-count">Number of CPUs (1 or 2):</label>
                <input type="number" id="tdp-cpu-count" value="1" min="1" max="2" aria-label="Number of CPUs">
                <label for="tdp-gpu-count">Number of GPUs (1 or 2):</label>
                <input type="number" id="tdp-gpu-count" value="1" min="1" max="2" aria-label="Number of GPUs">
                <button class="button button-primary" id="calculateTDPBtn">Estimate TDP</button>
                <div class="result" id="estimatedTDPResult" aria-live="polite">Estimated TDP: 0W</div>
                <div class="error-message" id="tdpError" role="alert"></div>
            </div>
        </div>
    </div>

    <script>
        // Immediately Invoked Function Expression (IIFE) for robust initialization
        (function() {
            // Component data for configurator
            const components = {
                motherboard: {
                    "Supermicro X10DRi - Used": { min: 200, max: 350, condition: "Used" }
                },
                cpu: {
                    "1x Intel Xeon E5-2680 v4 - Used": { min: 60, max: 80, condition: "Used" },
                    "2x Intel Xeon E5-2680 v4 - Used": { min: 120, max: 160, condition: "Used" }
                },
                cooler: {
                    "1x Noctua NH-U12S redux + 1x NM-i2011 Kit - New": { min: 130, max: 155, condition: "New" },
                    "2x Noctua NH-U12S redux + 2x NM-i2011 Kit - New": { min: 260, max: 310, condition: "New" }
                },
                gpu: {
                    "1x NVIDIA RTX 3090 (Blower) - Used": { min: 900, max: 1200, condition: "Used" },
                    "2x NVIDIA RTX 3090 (Blower) - Used": { min: 1800, max: 2400, condition: "Used" }
                },
                nvlink: {
                    "None": { min: 0, max: 0, condition: "N/A" },
                    "NVIDIA RTX 3090 NVLink Bridge (4-Slot) - Used/New": { min: 100, max: 200, condition: "Used/New" }
                },
                ram: {
                    "128GB (4x 32GB) DDR4 ECC RDIMM - Used": { min: 240, max: 320, condition: "Used" },
                    "256GB (8x 32GB) DDR4 ECC RDIMM - Used": { min: 480, max: 640, condition: "Used" }
                },
                storage0: { // OS
                    "2x Samsung 980 Pro 1TB NVMe SSD (RAID 1) - New": { min: 300, max: 340, condition: "New" }
                },
                storage1: { // Active Data
                    "1x Samsung 980 Pro 2TB NVMe SSD - New": { min: 280, max: 320, condition: "New" }
                },
                storage2: { // Bulk Storage
                    "6x Seagate Exos X18 16TB HDD (ZFS RAIDZ2) - New": { min: 2580, max: 2760, condition: "New" }
                },
                hba: {
                    "LSI 9207-8i (IT Mode) - Used": { min: 50, max: 80, condition: "Used" }
                },
                chassis: {
                    "Fractal Design Define 7 XL - New": { min: 330, max: 370, condition: "New" }
                },
                casefans: {
                    "3x Fractal Design Dynamic X2 GP-14 PWM - New": { min: 60, max: 75, condition: "New" }
                },
                psu: {
                    "Seasonic PRIME TX-1300 Titanium - New": { min: 640, max: 680, condition: "New" }
                },
                nic: {
                    "Used Intel X520-DA2 / Mellanox ConnectX-3 (10GbE SFP+) - Used": { min: 40, max: 70, condition: "Used" }
                }
            };

            function mainInit() {
                // Interactive Build Configurator Logic
                const configuratorRadios = document.querySelectorAll('.build-configurator input[type="radio"]');
                const totalCostDisplay = document.getElementById('total-cost');

                function updateConfiguratorTotal() {
                    let minTotal = 0;
                    let maxTotal = 0;

                    // Iterate over each component category
                    for (const category in components) {
                        const selectedRadio = document.querySelector(`input[name="${category}"]:checked`);
                        if (selectedRadio) {
                            const selectedValue = selectedRadio.value;
                            const data = components[category][selectedValue];
                            if (data) {
                                minTotal += data.min;
                                maxTotal += data.max;
                            }
                        }
                    }
                    totalCostDisplay.textContent = `CAD $${minTotal.toLocaleString()} - $${maxTotal.toLocaleString()}`;
                }

                // Add event listeners to all radio buttons
                configuratorRadios.forEach(radio => {
                    radio.addEventListener('change', updateConfiguratorTotal);
                });

                // Initial calculation on load
                updateConfiguratorTotal();

                // Floating Navbar Logic
                const navbar = document.getElementById('floatingNavbar');
                const navbarToggle = document.getElementById('navbarToggle');
                const navbarContent = document.getElementById('navbarContent');

                // Check if it's a mobile view based on CSS media query
                function isMobileView() {
                    return window.matchMedia("(max-width: 767px)").matches;
                }

                if (isMobileView()) {
                    navbar.classList.remove('desktop-collapsed'); // Ensure desktop class is not present on mobile
                    navbarToggle.addEventListener('click', () => {
                        const isExpanded = navbar.classList.toggle('expanded');
                        navbarToggle.setAttribute('aria-expanded', isExpanded);
                    });
                } else {
                    // For desktop, navbar is always visible, toggle button controls content visibility
                    navbar.classList.add('desktop-collapsed'); // Start collapsed on desktop
                    navbarToggle.textContent = 'Show Tools'; // Initial text for desktop
                    navbarToggle.addEventListener('click', () => {
                        const isCollapsed = navbar.classList.toggle('desktop-collapsed');
                        navbarToggle.textContent = isCollapsed ? 'Show Tools' : 'Hide Tools';
                        navbarToggle.setAttribute('aria-expanded', !isCollapsed);
                    });
                }

                // Cost Calculator Tool
                const calculateCostBtn = document.getElementById('calculateCostBtn');
                const calculatedCostResult = document.getElementById('calculatedCostResult');
                const calcError = document.getElementById('calcError');

                calculateCostBtn.addEventListener('click', () => {
                    calcError.textContent = ''; // Clear previous errors
                    try {
                        const cpuQty = parseInt(document.getElementById('calc-cpu-qty').value);
                        const gpuQty = parseInt(document.getElementById('calc-gpu-qty').value);
                        const ramQty = parseInt(document.getElementById('calc-ram-qty').value);
                        const hddQty = parseInt(document.getElementById('calc-hdd-qty').value);

                        if (isNaN(cpuQty) || cpuQty < 1 || cpuQty > 2) { throw new Error("CPU quantity must be 1 or 2."); }
                        if (isNaN(gpuQty) || gpuQty < 1 || gpuQty > 2) { throw new Error("GPU quantity must be 1 or 2."); }
                        if (isNaN(ramQty) || (ramQty !== 4 && ramQty !== 8)) { throw new Error("RAM modules must be 4 or 8."); }
                        if (isNaN(hddQty) || hddQty < 6) { throw new Error("HDD quantity must be 6 or more."); }

                        let minCalcTotal = 0;
                        let maxCalcTotal = 0;

                        // Motherboard, Chassis, PSU, NIC, HBA, Tier 0 & 1 Storage, Case Fans are fixed
                        minCalcTotal += components.motherboard["Supermicro X10DRi - Used"].min;
                        maxCalcTotal += components.motherboard["Supermicro X10DRi - Used"].max;

                        minCalcTotal += components.chassis["Fractal Design Define 7 XL - New"].min;
                        maxCalcTotal += components.chassis["Fractal Design Define 7 XL - New"].max;

                        minCalcTotal += components.psu["Seasonic PRIME TX-1300 Titanium - New"].min;
                        maxCalcTotal += components.psu["Seasonic PRIME TX-1300 Titanium - New"].max;

                        minCalcTotal += components.nic["Used Intel X520-DA2 / Mellanox ConnectX-3 (10GbE SFP+) - Used"].min;
                        maxCalcTotal += components.nic["Used Intel X520-DA2 / Mellanox ConnectX-3 (10GbE SFP+) - Used"].max;

                        minCalcTotal += components.hba["LSI 9207-8i (IT Mode) - Used"].min;
                        maxCalcTotal += components.hba["LSI 9207-8i (IT Mode) - Used"].max;

                        minCalcTotal += components.storage0["2x Samsung 980 Pro 1TB NVMe SSD (RAID 1) - New"].min;
                        maxCalcTotal += components.storage0["2x Samsung 980 Pro 1TB NVMe SSD (RAID 1) - New"].max;

                        minCalcTotal += components.storage1["1x Samsung 980 Pro 2TB NVMe SSD - New"].min;
                        maxCalcTotal += components.storage1["1x Samsung 980 Pro 2TB NVMe SSD - New"].max;

                        minCalcTotal += components.casefans["3x Fractal Design Dynamic X2 GP-14 PWM - New"].min;
                        maxCalcTotal += components.casefans["3x Fractal Design Dynamic X2 GP-14 PWM - New"].max;

                        // CPUs
                        const cpuKey = `${cpuQty}x Intel Xeon E5-2680 v4 - Used`;
                        if (!components.cpu[cpuKey]) throw new Error("Invalid CPU quantity for calculation.");
                        minCalcTotal += components.cpu[cpuKey].min;
                        maxCalcTotal += components.cpu[cpuKey].max;

                        // CPU Coolers
                        const coolerKey = `${cpuQty}x Noctua NH-U12S redux + ${cpuQty}x NM-i2011 Kit - New`;
                        if (!components.cooler[coolerKey]) throw new Error("Invalid cooler quantity for calculation.");
                        minCalcTotal += components.cooler[coolerKey].min;
                        maxCalcTotal += components.cooler[coolerKey].max;

                        // GPUs
                        const gpuKey = `${gpuQty}x NVIDIA RTX 3090 (Blower) - Used`;
                        if (!components.gpu[gpuKey]) throw new Error("Invalid GPU quantity for calculation.");
                        minCalcTotal += components.gpu[gpuKey].min;
                        maxCalcTotal += components.gpu[gpuKey].max;

                        // NVLink Bridge (only if 2 GPUs)
                        if (gpuQty === 2) {
                            minCalcTotal += components.nvlink["NVIDIA RTX 3090 NVLink Bridge (4-Slot) - Used/New"].min;
                            maxCalcTotal += components.nvlink["NVIDIA RTX 3090 NVLink Bridge (4-Slot) - Used/New"].max;
                        } else {
                            // Ensure NVLink is not added if only 1 GPU
                            minCalcTotal += components.nvlink["None"].min;
                            maxCalcTotal += components.nvlink["None"].max;
                        }

                        // RAM
                        const ramData = components.ram[ramQty === 128 ? "128GB (4x 32GB) DDR4 ECC RDIMM - Used" : "256GB (8x 32GB) DDR4 ECC RDIMM - Used"];
                        if (!ramData) throw new Error("Invalid RAM quantity for calculation.");
                        minCalcTotal += ramData.min;
                        maxCalcTotal += ramData.max;

                        // HDDs (Tier 2) - Base 6 drives from the component list, then add per extra drive
                        const baseHddPriceMin = components.storage2["6x Seagate Exos X18 16TB HDD (ZFS RAIDZ2) - New"].min;
                        const baseHddPriceMax = components.storage2["6x Seagate Exos X18 16TB HDD (ZFS RAIDZ2) - New"].max;
                        const pricePerHddMin = baseHddPriceMin / 6; // Assuming linear pricing per drive
                        const pricePerHddMax = baseHddPriceMax / 6;

                        minCalcTotal += pricePerHddMin * hddQty;
                        maxCalcTotal += pricePerHddMax * hddQty;


                        calculatedCostResult.textContent = `Estimated: CAD $${Math.round(minCalcTotal).toLocaleString()} - $${Math.round(maxCalcTotal).toLocaleString()}`;
                    } catch (e) {
                        calcError.textContent = `Error: ${e.message}`;
                        calculatedCostResult.textContent = `Estimated: CAD $0`;
                    }
                });

                // TDP/Power Estimator Tool
                const calculateTDPBtn = document.getElementById('calculateTDPBtn');
                const estimatedTDPResult = document.getElementById('estimatedTDPResult');
                const tdpError = document.getElementById('tdpError');

                // Fixed TDPs for components
                const cpuTDP = 120; // Intel Xeon E5-2680 v4
                const gpuTDP = 350; // NVIDIA RTX 3090 (can be undervolted, but base TDP is high)
                const otherComponentsTDP = 150; // Estimate for motherboard, RAM, SSDs, HBA, NIC, fans (can vary)

                calculateTDPBtn.addEventListener('click', () => {
                    tdpError.textContent = ''; // Clear previous errors
                    try {
                        const cpuCount = parseInt(document.getElementById('tdp-cpu-count').value);
                        const gpuCount = parseInt(document.getElementById('tdp-gpu-count').value);

                        if (isNaN(cpuCount) || cpuCount < 1 || cpuCount > 2) { throw new Error("CPU count must be 1 or 2."); }
                        if (isNaN(gpuCount) || gpuCount < 1 || gpuCount > 2) { throw new Error("GPU count must be 1 or 2."); }

                        const totalTDP = (cpuCount * cpuTDP) + (gpuCount * gpuTDP) + otherComponentsTDP;
                        estimatedTDPResult.textContent = `Estimated TDP: ${totalTDP}W`;
                    } catch (e) {
                        tdpError.textContent = `Error: ${e.message}`;
                        estimatedTDPResult.textContent = `Estimated TDP: 0W`;
                    }
                });

                // Accessibility: Keyboard navigation for details/summary
                document.querySelectorAll('details').forEach(detail => {
                    detail.addEventListener('keyup', (event) => {
                        if (event.key === 'Enter' || event.key === ' ') {
                            detail.toggleAttribute('open');
                            event.preventDefault();
                        }
                    });
                });

                // Accessibility: Ensure radio buttons are focusable and have proper labels
                document.querySelectorAll('input[type="radio"]').forEach(radio => {
                    if (!radio.hasAttribute('tabindex')) {
                        radio.setAttribute('tabindex', '0'); // Make sure they are in tab order
                    }
                });
            }

            // Call mainInit when the DOM is fully loaded
            document.addEventListener('DOMContentLoaded', mainInit);
        })();
    </script>
</body>
</html>
